<div class="seal-record">
    <div class="table-operations">
        <button nz-button (click)="sort('id','descend')">序号排序</button>
        <button nz-button (click)="resetFilters()">清除过滤</button>
        <button nz-button (click)="resetSortAndFilters()">清除过滤和排序</button>
        <button nz-button nzType="primary" (click)="showApplyModal()">申请用章</button>
    </div>
    <nz-table #nzTable [nzData]="sealList">
        <thead>
            <tr>
                <th nzShowExpand></th>
                <th>序号</th>
                <th>用章类型</th>
                <th>申请人</th>
                <th>负责人</th>
                <th>审核人</th>
                <th>申请时间</th>
                <th>申请状态</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            <ng-template ngFor let-data [ngForOf]="nzTable.data">
                <tr>
                    <td nzShowExpand [(nzExpand)]="mapOfExpandData[data.id]"></td>
                    <td>{{data.id}}</td>
                    <td>{{data.type}}</td>
                    <td>{{data.propser}}</td>
                    <td>{{data.pic}}</td>
                    <td>{{data.auditor}}</td>
                    <td>{{data.time}}</td>
                    <td>{{data.status}}</td>
                    <td>
                        <button nz-button nzType="primary" (click)="showApplyModal(data)">编辑</button>
                        <button nz-button (click)="delSeal($event)">撤销</button>
                    </td>
                </tr>
                <tr [nzExpand]="mapOfExpandData[data.id]">
                    <td></td>
                    <td colspan="8">{{data.description}}</td>
                </tr>
            </ng-template>
        </tbody>
    </nz-table>
    <nz-modal nzWrapClassName="seal-application-modal" [(nzVisible)]="isVisible"
        nzTitle="用章申请" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()" [nzFooter]="null">
        <app-seal-application [seal]="selectedSeal"></app-seal-application>
    </nz-modal>
</div>